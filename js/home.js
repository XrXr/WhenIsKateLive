(function(){function q(b,e){var d;b.some(function(b,a){if(e>b.end_normalized)return!1;d=b;return!0});return d?d:b[0]}function l(){var b=moment(),b=b.unix()-b.clone().startOf("isoWeek").unix();if(m.is_live(b))return h=!0,r(!0);if(h)return h=!1,m=q(g,b),l();h=!1;return r(!1,s(b,m.start_normalized))}var t=moment().tz("america/vancouver").isDST(),n=(new Date).getTimezoneOffset(),g=function(){function b(a,c,d){if(!(this instanceof b))return new b(a,c,d);this.start=c;a=a.toLowerCase();a=f.indexOf(a);if(-1===
a)throw Error("Invalid weekday name");this.isoWeekday=a+1;this.duration=d}function e(a,c){if(!(this instanceof e))return new e(a,c);this.start=a.clone().zone(n);this.end=a.clone().zone(n);this.end.add("hours",c);this.duration=c;this.start_normalized=this.start.unix()-this.start.clone().startOf("isoWeek").unix();this.end_normalized=this.end.unix()-this.end.clone().startOf("isoWeek").unix()}function d(a){return new e(moment(a.start+" "+c+" "+a.isoWeekday+" 1 1970","h:m a Z E WW YYYY"),a.duration)}var f=
"monday tuesday wednesday thursday friday saturday sunday".split(" "),a=[b("Monday","11:00 AM",3),b("Monday","6:00 PM",2),b("Tuesday","11:00 AM",5),b("Wednesday","11:00 AM",3),b("Thursday","12:00 PM",2),b("Thursday","10:00 PM",2),b("Friday","4:00 PM",3),b("Saturday","4:00 PM",3),b("Sunday","11:00 AM",3)];e.prototype.toString=function(){var a=this.start.format("a"),c=this.end.format("a"),b=0<this.start.minutes()?["h:m","a"]:["h","a"],d=0<this.end.minutes()?["h:m","a"]:["h","a"];a===c&&b.pop();return this.start.format(b.join(" "))+
" to "+this.end.format(d.join(" "))};e.prototype.is_live=function(a){return a>=this.start_normalized&&a<=this.end_normalized};var c=t?"-0700":"-0800";window.export_internals&&(window.streamer_dst=t,window.visitor_timezone_offset=n,window.TimeSlot=b,window.make_stream=d);return a.map(d)}(),s=function(){function b(b,f){var a=b+" "+f;return 1<b?a+"s":a}function e(d){var f=moment.duration(1E3*d);d=f.days();var a=f.hours(),c=f.minutes(),f=f.seconds(),e=[];d&&e.push(b(d,"day"));a&&e.push(b(a,"hour"));c&&
e.push(b(c,"minute"));f&&e.push(b(f,"second"));return e.join(", ")}return function(b,f){var a=f-b;if(0<a)return e(a);if(0>a)return e(f+604800-b);throw Error("get_countdown() called with invalid arguments");}}(),r=function(){function b(a,b){a.className&&0<a.className.match(new RegExp("(?:^|\\s)"+b+"(?!\\S)","g")).length&&(a.className=a.className.replace(new RegExp("(?:^|\\s)"+b+"(?!\\S)","g"),""))}for(var e=[],d=0,f={},a=0;a<g.length;a++)if(!(a in f)){f[a]=0;for(var c=g[a],h=[c],l=c.start.isoWeekday(),
m=c.start.isoWeek(),n=c.start.year(),c=0;c<g.length;c++)c in f||g[c].start.isoWeekday()!=l||g[c].start.isoWeek()!=m||g[c].start.year()!=n||(h.push(g[c]),f[c]=0);h.length>d&&(d=h.length);e.push(h)}for(c=document.querySelector("tr");c.children.length<g.length;)c.appendChild(document.createElement("th"));for(a=0;a<e.length;a++)c.children[a].textContent=e[a][0].start.format("dddd");for(f=document.querySelector("tbody");f.children.length<d;)f.appendChild(document.createElement("tr"));for(a=0;a<f.children.length;a++){for(d=
f.children[a];d.children.length<e.length;)d.appendChild(document.createElement("td"));0!=a&&(d.className="auxiliary-slots")}for(a=0;a<e.length;a++)for(c=0;c<e[a].length;c++)f.children[c].children[a].textContent=e[a][c].toString();for(a=0;a<e.length;a++)for(c=1;c<e[a].length;c++)console.log("cats"),d=document.createElement("span"),d.className="same-line-slots",d.textContent=", "+e[a][c].toString(),f.children[0].children[a].appendChild(d);document.querySelector("small").textContent="All times are converted to your local time";
var p=document.querySelector("h3"),k=document.querySelector("h1").children[0];return function(a,c){a?(""===p.className&&(p.className+=" hidden"),b(k,"disguise"),k.textContent="Kate is live right now! Click to watch",k.href="http://www.twitch.tv/lovelymomo"):(b(p,"hidden"),""===k.className&&(k.className+=" disguise"),k.textContent=c,k.href="#")}}(),m=g[0],h=!0;window.export_internals&&(window.get_countdown=s,window.streams=g,window.find_next_stream=q);l();setInterval(l,1E3)})();
